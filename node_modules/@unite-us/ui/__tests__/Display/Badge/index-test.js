import React from 'react';
import { shallow } from 'enzyme';
import Badge from '../../../src/components/Display/Badge';
import * as colors from '../../../src/components/utils/Colors/getColorLuma';

describe('Badge', () => {
  it('renders', () => {
    const spy = jest.spyOn(colors, 'default')
      .mockImplementation(() => 128);
    const props = {
      text: '12',
      color: 'BADA55',
    };
    const comp = shallow(<Badge {...props} />);
    expect(comp.text()).toBe('12');
    spy.mockRestore();
  });

  it('has a badge class', () => {
    const spy = jest.spyOn(colors, 'default')
      .mockImplementation(() => 42);
    const props = {
      text: '999',
      color: 'BADA55',
    };
    const comp = shallow(<Badge {...props} />);
    expect(comp.hasClass('badge')).toBeTruthy();
    spy.mockRestore();
  });

  it('returns null if no text is passed in', () => {
    const props = {
      color: 'BADA55',
    };
    const comp = shallow(<Badge {...props} />);
    expect(comp.type()).toBeNull();
  });
});
