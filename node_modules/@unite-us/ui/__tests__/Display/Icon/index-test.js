import React from 'react';
import { shallow } from 'enzyme';
import Icon from 'components/Display/Icon';
import iconHelper from './iconHelper';

describe('Icon Component', () => {
  describe('Existing Icon in styleguide', () => {
    let icon;
    let props;

    beforeAll(() => {
      props = iconHelper.existingIconProps;
      icon = shallow(<Icon {...props} />);
    });

    it('returns the proper svg', () => {
      expect(icon.find('svg')).toHaveLength(1);
    });
  });

  describe('Non Existing Icon in styleguide returns error', () => {
    let icon;
    let props;

    beforeAll(() => {
      props = iconHelper.nonExistingIconProps;
      icon = shallow(<Icon {...props} />);
    });

    it('returns the error text', () => {
      expect(icon.text()).toBe('Icon viewBox or markup does not exist!');
    });
  });

  describe('User owned icon list', () => {
    let icon;
    let props;

    beforeAll(() => {
      props = iconHelper.userOwnedIconProps;
      icon = shallow(<Icon {...props} />);
    });

    it('returns the proper svg', () => {
      expect(icon.find('svg')).toHaveLength(1);
    });
  });
});
