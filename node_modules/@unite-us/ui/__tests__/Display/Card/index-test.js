import React from 'react';
import { shallow } from 'enzyme';
import Card from 'components/Display/Card';
import CardHeader from 'components/Display/Card/components/CardHeader';

describe('Card', () => {
  let props;
  let component;

  beforeAll(() => {
    props = {
      id: 'id-1234',
      className: 'className-1234',
      expandable: true,
      initiallyExpanded: true,
      children: [<CardHeader title="CardHeader Title" showExpandableButton />],
    };
    component = shallow(<Card {...props} />);
  });

  it('renders the table', () => {
    expect(component.find('.ui-card')).toHaveLength(1);
  });

  it('onExpandChange sets the proper state', () => {
    component.instance().onExpandChange();
    expect(component.state('exapnded')).toBeFalsy();
  });

  it('adds a border', () => {
    const newProps = { ...props, applyBorder: true };
    component = shallow(<Card {...newProps} />);
    expect(component.find('.ui-card--bordered')).toHaveLength(1);
  });
});
