import React from 'react';
import { shallow } from 'enzyme';
import AppBar from 'components/Display/AppBar';

describe('AppBar', () => {
  let props;
  let component;
  let onHamburgerIconClickSpy;

  beforeAll(() => {
    onHamburgerIconClickSpy = jest.fn();

    props = {
      id: 'id-1234',
      className: 'className-1234',
      iconElementLeft: <div>My Left Element</div>,
      iconElementRight: <div>My Right Element</div>,
      onHamburgerIconClick: onHamburgerIconClickSpy,
      opened: false,
    };

    component = shallow(<AppBar {...props} />);
  });

  it('renders', () => {
    expect(component.find('.ui-app-bar')).toHaveLength(1);
  });

  it('renders the hamburger menu', () => {
    expect(component.find('Hamburger')).toHaveLength(1);
  });

  it('renders the left element', () => {
    expect(component.find('.ui-app-bar__left').children().text()).toBe('My Left Element');
  });

  it('renders the right element', () => {
    expect(component.find('.ui-app-bar__right').children().text()).toBe('My Right Element');
  });

  it('calls onHamburgerIconClick and sets correct state', () => {
    component.find('Hamburger').dive().find('.ui-hamburger').simulate('click');
    expect(onHamburgerIconClickSpy).toBeCalled();
  });
});
