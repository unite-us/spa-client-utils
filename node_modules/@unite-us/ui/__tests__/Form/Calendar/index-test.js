import React from 'react';
import { shallow } from 'enzyme';
import Calendar from 'components/Form/Calendar';

describe('Calendar', () => {
  it('renders', () => {
    const props = {
      year: 2017,
      month: 10,
    };
    const cal = shallow(<Calendar {...props} />);
    expect(cal.find('.ui-calendar')).toHaveLength(1);
    expect(cal.find('.ui-calendar__day')).toHaveLength(35);
  });

  it('renders with selected day and disabled dates', () => {
    const props = {
      year: 2017,
      month: 10,
      selectedDays: ['2017-11-10'],
      disabledDays: ['2017-11-01', '2017-11-02', '2017-11-30'],
    };
    const cal = shallow(<Calendar {...props} />);
    expect(cal.find('.ui-calendar')).toHaveLength(1);
    expect(cal.find('.ui-calendar__day--selected')).toHaveLength(1);
    expect(cal.find('.ui-calendar__day--disabled')).toHaveLength(3);
  });

  it('renders with date range', () => {
    const props = {
      year: 2017,
      month: 10,
      dateRange: {
        start: '2017-11-05',
        end: '2017-11-10',
      },
    };
    const cal = shallow(<Calendar {...props} />);
    expect(cal.find('.ui-calendar')).toHaveLength(1);
    expect(cal.find('.ui-calendar__day--selected')).toHaveLength(2);
    expect(cal.find('.ui-calendar__day--in-range')).toHaveLength(4);
  });
});
